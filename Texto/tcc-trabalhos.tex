\chapter{TRABALHOS RELACIONADOS} 
\label{trabs}

\textcolor{red}{DESENVOLVER, COLOCAR METODOLOGIA DOS PROJETOS}
\section{Bare-Metal vs. Hypervisors and Containers: Performance Evaluation of Virtualization Technologies for Software-Defined Vehicles} 

% \begin{itemize}
%     \item Materiais:
%     \item Métodos:
%     \item Métricas:
% \end{itemize}

% \textbf{Resumo}

% \textbf{Contribuições}

% \textbf{Limitações}

\textcolor{red}{O projeto de Wen et. al. (2023), auxilia com relação ao entendimento da conteinerização em sistemas embarcados e também com relação ao seu desempenho.} 
\textcolor{blue}{Este projeto}
No artigo, é detalhada a utilização de diferentes formas de conteinerização e seu efeito no desempenho em diferentes tipos de hardware. Foram realizados testes gerais que envolviam CPU, memória, rede e disco, em três ambientes diferentes: máquina virtual, contêiner e um contêiner dentro de uma máquina virtual. Com isso, foi concluído que as máquinas virtuais e os contêineres possuem um desempenho semelhante ao bare-metal (servidor físico que é de uso exclusivo para apenas um cliente, sem a camada de virtualização que fica entre o hardware e o sistema operacional), onde entre a CPU, rede e memória, sofria uma perda de no máximo 5\% enquanto no disco a diferença era de até 35\%. Foi observado que o Docker e a KVM (máquina virtual baseada no Kernel) foram 5 a 10\% mais lentos que o bare-metal, com o Docker sendo mais lento ainda na primeira inicialização, mas levando a concluir que conteinerização e virtualização podem ser utilizados em aplicações para automóveis. \cite{Wen2023}.

\section{Docker Performance Evaluation across Operating Systems}

O trabalho de Sobieraj e Kotyński (2024), seu projeto auxilia no entendimento dos conceitos de avaliação do Docker com relação a outros sistemas operacionais.
\textcolor{blue}{Este estudo realiza testes onde o Docker é executado em diversos sistemas operacionais, para isso foi utilizado um MacBook Pro 13, com uma CPU da Intel (Intel i5-8257u @ 1.40 GHz) como plataforma do hardware para a comparação de desempenho, 16 GB LPDDR3 2133 Mhz   de memória RAM e um armazenamento de 256 GB NVME SSD, o a versão do Docker Engine utilizada foi a 4.20 e configurado para utilizar 8 CPUs lógicos, 16 GB de RAM e 1 GB de memória swap}. 
Para verificar a diferença entre os sistemas operacionais, foram utilizados sistemas operacionais recém-instalados que eram 
\textcolor{red}{macOS Ventura, Ubuntu 22.04 e Windows 10 rodando em um MacBook Pro 13} 
\textcolor{blue}{MacOS Ventura 13.5.1, Ubuntu 22.04-6.4.8-t2-jammy e Windows 10 22H2}. 
\textcolor{red}{Os testes consistiam em estressar o Docker com relação à CPU, rede e na resiliência do mesmo.} 
\textcolor{blue}{Neste projeto, foram realizados diversos testes com o objetivo de “estressar” o Docker, 
os testes eram o cálculo de Pi na fórmula de Leibniz utilizando a linguagem C, em que utilizou a métrica o tempo de execução do cálculo pela fórmula. Este teste foi feito para testar o desempenho da CPU, 
outro teste foi o teste do Sysbench, em que eram realizados cálculos dos números primos para verificar o desempenho do processador, com as métricas sendo a quantidade de operações por segundo. Além disso, foram feitas diversas leituras e gravações aleatórias e sequenciais no disco rígido para medir o tempo de resposta e taxa de transferência das operações (teste de Input/Output). As métricas foram os testes de leitura e escrita. 
O teste do Iperf3 foi realizado a comunicação entre contêineres usando o protocolo TCP, depois utilizando o UDP, e por último a comunicação entre o host e o contêiner usando novamente o TCP. Este teste tinha como foco verificar o desempenho da rede, as métricas usadas foram Throughput (taxa de transferência) em TCP e UDP e a perda de pacotes. 
Em seguida, foi realizado o teste utilizando o 7Zip, em que era medida a velocidade de compactação e descompactação dos arquivos, e verificar o comportamento e desempenho do Docker e do sistema operacional. 
Foi realizado o teste de verificação de desempenho de um banco de dados no Docker, foi utilizado o Pgbench, onde era medida a taxa de transações por segundo (TPS) e verificado como o desempenho variava.
Por último, foi feito o teste de Apache slowhttp attack, em que foram abertas diversas conexões HTTP lentas e, com isso, testada a capacidade e resistência ao sofrer um ataque de negação de serviço (Denial of Service - DoS) e verificar qual sistema acabou sofrendo mais. Foi medido o tempo de resposta durante o ataque DoS.}
Após realizar os testes, foi observado que o sistema operacional possui uma importante influência sobre o desempenho presente no conteiner Docker. Alguns possuíam benefícios em relação a outros em uma determinada categoria. O macOS se destacou com relação aos dados obtidos nas configurações utilizadas nos sistemas docker, não sofrendo grandes perdas de desempenho, se mostrando extremamente versátil,
o Linux se mostrou mais eficiente quanto às aplicações que raramente utilizam escrita no disco, se mostrando uma escolha melhor que o MacOS com relação a bancos de dados em memória, cache e entre outros, pois por não necessitarem de tanta escrita, essas aplicações se beneficiam mais quando executadas em um conteiner com Linux, 
o Windows acabou não se beneficiando tanto quanto os outros, a não ser pela taxa de transferência de rede entre os contêineres. Assim como o Linux, o Windows possui problemas com a velocidade em que a escrita é feita e com isso. Este artigo auxilia no entendimento com relação aos tipos de testes que podem ser realizados para analisar o desempenho do Docker, auxiliando de uma maneira que possa ser um pontapé inicial para o desenvolvimento dos testes com o Docker, e como medir o desempenho de um contêiner. \cite{SMKD2024}
\begin{comment}
     5.1. macOS Verdict
    From the data gathered on our configuration, macOS is considered the most versatile system for operating with Docker containers. It does not suffer from any significant bottlenecks besides the host-to-container network speed visualized in Figure 10. As value of this throughput—469 Mbps—cannot be considered low, with a high probability it would match most requirements on a nonproduction setup, making Mac OS a solid operating system for a container-driven workflow. It must be pointed out that this system is not a silver bullet, and there are cases where other systems will benefit more.

    5.2. Linux Verdict
    Despite the preference for macOS as the most versatile host system for Docker containers, it might not always be the optimal choice. In instances where a program rarely utilizes write-to-disk functionality, Linux may prove as a more efficient solution. In-memory databases, data streaming platforms, database cache, static websites, FTP read-only servers are among the systems that infrequently require write operation and can benefit from being run in a Docker container on a Linux host.
\end{comment}

\section{DA Containerized Microservice Architecture for a ROS 2 Autonomous Driving Software: An End-to-End Latency Evaluation}

Conforme Wen et. al. (2024), o artigo aborda a arquitetura baseada em microserviços para sistemas automotivos. Cada serviço foi realizado em contêineres separados, pois os testes realizados identificaram que este método é viável e acaba por melhorar a latência existente em sistemas operacionais Linux sem contêineres, que obteve uma latência de 5 a 8\% end-to-end, além de reduzir a latência máxima, o que mostra a vantagem no uso de conteinerização para os sistemas automotivos em tempo real. Foi concluído que o ROS 2, utilizado para avaliar a arquitetura de microserviços para uma aplicação real de direção autônoma, foi de extrema importância por conta de sua arquitetura distribuída que é baseada em nós e possui comunicação DDS, o que levou ao isolamento das funções do veículo e facilitou a migração para contêineres. Na conteinerização, o ROS 2 perde um pouco de seu desempenho, mas em aplicações complexas como o Autoware, a mesma acaba por melhorar, reduzindo o uso de CPU e memória. Este artigo auxilia no entendimento do uso da conteinerização com relação ao ROS 2, seus problemas e seus acertos. \cite{Wen2024}.